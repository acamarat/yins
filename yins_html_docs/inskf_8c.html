<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>yins: yins_core/inskf.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">yins
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">An simple implement of SINS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8f837381997e81052bb3d663d088c211.html">yins_core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">inskf.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>ins kalman filter related function  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ins_8h_source.html">ins.h</a>&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for inskf.c:</div>
<div class="dyncontent">
<div class="center"><img src="inskf_8c__incl.png" border="0" usemap="#yins__core_2inskf_8c" alt=""/></div>
<map name="yins__core_2inskf_8c" id="yins__core_2inskf_8c">
<area shape="rect" title="ins kalman filter related function" alt="" coords="219,5,339,32"/>
<area shape="rect" href="ins_8h.html" title="ins header file" alt="" coords="115,80,165,107"/>
<area shape="rect" title=" " alt="" coords="187,155,248,181"/>
<area shape="rect" title=" " alt="" coords="247,80,310,107"/>
<area shape="rect" title=" " alt="" coords="335,80,399,107"/>
<area shape="rect" title=" " alt="" coords="423,80,489,107"/>
<area shape="rect" title=" " alt="" coords="5,155,64,181"/>
<area shape="rect" title=" " alt="" coords="88,155,163,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a598a3330b3c21701223ee0ca14316eca"><td class="memItemLeft" align="right" valign="top"><a id="a598a3330b3c21701223ee0ca14316eca"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PI</b>&#160;&#160;&#160;3.14159265358979</td></tr>
<tr class="separator:a598a3330b3c21701223ee0ca14316eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7866fa5e4e0ee9b034e9dab6599a9cc"><td class="memItemLeft" align="right" valign="top"><a id="aa7866fa5e4e0ee9b034e9dab6599a9cc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SQR</b>(x)&#160;&#160;&#160;((x) * (x))</td></tr>
<tr class="separator:aa7866fa5e4e0ee9b034e9dab6599a9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d8fe7d2e764396443f48ec463ce7e6"><td class="memItemLeft" align="right" valign="top"><a id="a39d8fe7d2e764396443f48ec463ce7e6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>KF_FILTER</b>(kf,  dz,  Qdz)&#160;&#160;&#160;<a class="el" href="inscmn_8c.html#a8ea059bb23d61724fbf19f16354f9c73">filter</a>(kf-&gt;x, kf-&gt;P, kf-&gt;H, (dz), (Qdz), kf-&gt;nx, kf-&gt;ny)</td></tr>
<tr class="separator:a39d8fe7d2e764396443f48ec463ce7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995f3eb91a4f22c9edcc5f91f4708b1e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>KF_HINIT</b>(kf,  _ny)</td></tr>
<tr class="separator:a995f3eb91a4f22c9edcc5f91f4708b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b4fc9e08aaf77fd31265119c90e2d61"><td class="memItemLeft" align="right" valign="top"><a id="a6b4fc9e08aaf77fd31265119c90e2d61"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GETSTD</b>(x)&#160;&#160;&#160;sqrt(inskf-&gt;P[(x)+(x)*inskf-&gt;nx])</td></tr>
<tr class="separator:a6b4fc9e08aaf77fd31265119c90e2d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad9578f9341aa79539524b9adfb5342d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#ad9578f9341aa79539524b9adfb5342d5">inskf_init</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structimup__t.html">imup_t</a> *imup)</td></tr>
<tr class="memdesc:ad9578f9341aa79539524b9adfb5342d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">initial ins kalman filter  <a href="inskf_8c.html#ad9578f9341aa79539524b9adfb5342d5">More...</a><br /></td></tr>
<tr class="separator:ad9578f9341aa79539524b9adfb5342d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c4b864473a34a407caf617b5f0202d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#ad2c4b864473a34a407caf617b5f0202d">inskf_udstate</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structimud__t.html">imud_t</a> *imud, const <a class="el" href="structimup__t.html">imup_t</a> *imup)</td></tr>
<tr class="memdesc:ad2c4b864473a34a407caf617b5f0202d"><td class="mdescLeft">&#160;</td><td class="mdescRight">kalman filter update state x = Fx, P = F * P * F' + Q, and full state transfer  <a href="inskf_8c.html#ad2c4b864473a34a407caf617b5f0202d">More...</a><br /></td></tr>
<tr class="separator:ad2c4b864473a34a407caf617b5f0202d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cbd764fb55c212347b7e662c0ce00e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a3cbd764fb55c212347b7e662c0ce00e3">inskf_udmeasr</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structv3__t.html">v3_t</a> *reg_e, const <a class="el" href="structm3__t.html">m3_t</a> *Qreg_e, const <a class="el" href="structv3__t.html">v3_t</a> *lever_arm)</td></tr>
<tr class="memdesc:a3cbd764fb55c212347b7e662c0ce00e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">kalman filter position measment update  <a href="inskf_8c.html#a3cbd764fb55c212347b7e662c0ce00e3">More...</a><br /></td></tr>
<tr class="separator:a3cbd764fb55c212347b7e662c0ce00e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a426b26eadcabca1ae0ac60c627c103fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a426b26eadcabca1ae0ac60c627c103fe">inskf_udmeasv</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structv3__t.html">v3_t</a> *veg_e, const <a class="el" href="structm3__t.html">m3_t</a> *Qveg_e, const <a class="el" href="structv3__t.html">v3_t</a> *lever_arm, const <a class="el" href="structv3__t.html">v3_t</a> *wib_b)</td></tr>
<tr class="memdesc:a426b26eadcabca1ae0ac60c627c103fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">kalman filter velocity update  <a href="inskf_8c.html#a426b26eadcabca1ae0ac60c627c103fe">More...</a><br /></td></tr>
<tr class="separator:a426b26eadcabca1ae0ac60c627c103fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d0cec9486ebb80789a68da72b091f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#aa4d0cec9486ebb80789a68da72b091f4">inskf_udmeas_yaw</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, double yaw, double Qyaw)</td></tr>
<tr class="memdesc:aa4d0cec9486ebb80789a68da72b091f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">kalman filter yaw angle measument update  <a href="inskf_8c.html#aa4d0cec9486ebb80789a68da72b091f4">More...</a><br /></td></tr>
<tr class="separator:aa4d0cec9486ebb80789a68da72b091f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2cc27f15de055c2990b26428bf51d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a3f2cc27f15de055c2990b26428bf51d6">inskf_ZAU</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, double yaw, double Qyaw)</td></tr>
<tr class="memdesc:a3f2cc27f15de055c2990b26428bf51d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">ins kalman filter Zero Angular Update  <a href="inskf_8c.html#a3f2cc27f15de055c2990b26428bf51d6">More...</a><br /></td></tr>
<tr class="separator:a3f2cc27f15de055c2990b26428bf51d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f930427ea610bdff5fa38195410722f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a7f930427ea610bdff5fa38195410722f">inskf_udmeas_Cbe</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structm3__t.html">m3_t</a> *Cbe, const <a class="el" href="structm3__t.html">m3_t</a> *QEbe)</td></tr>
<tr class="memdesc:a7f930427ea610bdff5fa38195410722f"><td class="mdescLeft">&#160;</td><td class="mdescRight">ins kalman filter update attitude measment.  <a href="inskf_8c.html#a7f930427ea610bdff5fa38195410722f">More...</a><br /></td></tr>
<tr class="separator:a7f930427ea610bdff5fa38195410722f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0e63267cdab8b1c5675036bba867604"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#ae0e63267cdab8b1c5675036bba867604">inskf_feedback</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, unsigned int SOL_TYPE)</td></tr>
<tr class="memdesc:ae0e63267cdab8b1c5675036bba867604"><td class="mdescLeft">&#160;</td><td class="mdescRight">ins kalman filter feedback (move inskf-&gt;x to inskf.sol)  <a href="inskf_8c.html#ae0e63267cdab8b1c5675036bba867604">More...</a><br /></td></tr>
<tr class="separator:ae0e63267cdab8b1c5675036bba867604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7df2afc7bd935540d870d6af943bbdb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a7df2afc7bd935540d870d6af943bbdb3">inskf_close</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf)</td></tr>
<tr class="memdesc:a7df2afc7bd935540d870d6af943bbdb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">close ins kalman filter, free all variable memory  <a href="inskf_8c.html#a7df2afc7bd935540d870d6af943bbdb3">More...</a><br /></td></tr>
<tr class="separator:a7df2afc7bd935540d870d6af943bbdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae907e09ccf9698fda9b31dcdee93c493"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#ae907e09ccf9698fda9b31dcdee93c493">inskf_constraint_yaw</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structv3__t.html">v3_t</a> *wib_b, const <a class="el" href="structimup__t.html">imup_t</a> *imup)</td></tr>
<tr class="memdesc:ae907e09ccf9698fda9b31dcdee93c493"><td class="mdescLeft">&#160;</td><td class="mdescRight">constraint yaw by velocity(Use velocity to caculate yaw, and then update)  <a href="inskf_8c.html#ae907e09ccf9698fda9b31dcdee93c493">More...</a><br /></td></tr>
<tr class="separator:ae907e09ccf9698fda9b31dcdee93c493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12ca75cadbec752d9212d84a0289ff08"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a12ca75cadbec752d9212d84a0289ff08">inskf_ZRAU</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structquat__t.html">quat_t</a> *last_qbe, double dt, const <a class="el" href="structm3__t.html">m3_t</a> *Qweb_b)</td></tr>
<tr class="memdesc:a12ca75cadbec752d9212d84a0289ff08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zero angular rate update for ins kalman filter.  <a href="inskf_8c.html#a12ca75cadbec752d9212d84a0289ff08">More...</a><br /></td></tr>
<tr class="separator:a12ca75cadbec752d9212d84a0289ff08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3fee5b2141940de453a0b111dc185b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a9e3fee5b2141940de453a0b111dc185b">inskf_ZUPT</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structm3__t.html">m3_t</a> *Qveb_e)</td></tr>
<tr class="memdesc:a9e3fee5b2141940de453a0b111dc185b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zero velocity update of ins kalman filter.  <a href="inskf_8c.html#a9e3fee5b2141940de453a0b111dc185b">More...</a><br /></td></tr>
<tr class="separator:a9e3fee5b2141940de453a0b111dc185b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741d4038c338c1c91b191a71d1c14433"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a741d4038c338c1c91b191a71d1c14433">inskf_uditg_dS</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, double dS, const <a class="el" href="structv3__t.html">v3_t</a> *lever_arm_car, const <a class="el" href="structv3__t.html">v3_t</a> *wib_b)</td></tr>
<tr class="memdesc:a741d4038c338c1c91b191a71d1c14433"><td class="mdescLeft">&#160;</td><td class="mdescRight">ins kalman filter of update integral varables of odomemter  <a href="inskf_8c.html#a741d4038c338c1c91b191a71d1c14433">More...</a><br /></td></tr>
<tr class="separator:a741d4038c338c1c91b191a71d1c14433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0127d5770f1ac4f3158c0406718e0a92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a0127d5770f1ac4f3158c0406718e0a92">inskf_udmeas_itgdS</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structv3__t.html">v3_t</a> *itgdS_std)</td></tr>
<tr class="memdesc:a0127d5770f1ac4f3158c0406718e0a92"><td class="mdescLeft">&#160;</td><td class="mdescRight">ins kalman filter, use odometer's integral variables as measument  <a href="inskf_8c.html#a0127d5770f1ac4f3158c0406718e0a92">More...</a><br /></td></tr>
<tr class="separator:a0127d5770f1ac4f3158c0406718e0a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3742f814620a998f7194ef529b54f040"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a3742f814620a998f7194ef529b54f040">inskf_udmeas_vod</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, double vod, const <a class="el" href="structv3__t.html">v3_t</a> *vod_std)</td></tr>
<tr class="memdesc:a3742f814620a998f7194ef529b54f040"><td class="mdescLeft">&#160;</td><td class="mdescRight">ins kalman filter, use odometer output velocity as measurement  <a href="inskf_8c.html#a3742f814620a998f7194ef529b54f040">More...</a><br /></td></tr>
<tr class="separator:a3742f814620a998f7194ef529b54f040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c6ea8747b980a69fb5670acbc60083"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a77c6ea8747b980a69fb5670acbc60083">inskf_MC_car</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structv3__t.html">v3_t</a> *wib_b, const <a class="el" href="structv3__t.html">v3_t</a> *lever_arm_car, double std_vy, double std_vz)</td></tr>
<tr class="memdesc:a77c6ea8747b980a69fb5670acbc60083"><td class="mdescLeft">&#160;</td><td class="mdescRight">ins kalman filter of car's motion constraint  <a href="inskf_8c.html#a77c6ea8747b980a69fb5670acbc60083">More...</a><br /></td></tr>
<tr class="separator:a77c6ea8747b980a69fb5670acbc60083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4aec8831d33b817af20ea0e2a8900d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a8e4aec8831d33b817af20ea0e2a8900d">inskf_ZST_pos</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structsolins__t.html">solins_t</a> *last_sol)</td></tr>
<tr class="memdesc:a8e4aec8831d33b817af20ea0e2a8900d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zero speed test by postion difference.  <a href="inskf_8c.html#a8e4aec8831d33b817af20ea0e2a8900d">More...</a><br /></td></tr>
<tr class="separator:a8e4aec8831d33b817af20ea0e2a8900d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a533d2fe56ebb9fd744c3e2c4d1ae9075"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a533d2fe56ebb9fd744c3e2c4d1ae9075">inskf_ZST_imu</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, double mean_dv, double std_dv)</td></tr>
<tr class="memdesc:a533d2fe56ebb9fd744c3e2c4d1ae9075"><td class="mdescLeft">&#160;</td><td class="mdescRight">ins kalman filter to Zero Speed Test by imu data  <a href="inskf_8c.html#a533d2fe56ebb9fd744c3e2c4d1ae9075">More...</a><br /></td></tr>
<tr class="separator:a533d2fe56ebb9fd744c3e2c4d1ae9075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cc8c80afde8e9802348bdd1f8940b2a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#a1cc8c80afde8e9802348bdd1f8940b2a">inskf_ZST_auto</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const <a class="el" href="structsolins__t.html">solins_t</a> *last_sol, double *mean_dv, double *std_dv)</td></tr>
<tr class="memdesc:a1cc8c80afde8e9802348bdd1f8940b2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zero Speed Test automatically.  <a href="inskf_8c.html#a1cc8c80afde8e9802348bdd1f8940b2a">More...</a><br /></td></tr>
<tr class="separator:a1cc8c80afde8e9802348bdd1f8940b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae514fa18a581abc58f31e88c0fe09a2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inskf_8c.html#ae514fa18a581abc58f31e88c0fe09a2b">inskf_norm_innov</a> (<a class="el" href="structkf__t.html">kf_t</a> *inskf, const double *dz, const double *R, double *ndz)</td></tr>
<tr class="memdesc:ae514fa18a581abc58f31e88c0fe09a2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">inskf_norm_innov  <a href="inskf_8c.html#ae514fa18a581abc58f31e88c0fe09a2b">More...</a><br /></td></tr>
<tr class="separator:ae514fa18a581abc58f31e88c0fe09a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ins kalman filter related function </p>
<dl class="section author"><dt>Author</dt><dd>yinflying(<a href="#" onclick="location.href='mai'+'lto:'+'yin'+'fl'+'yin'+'g@'+'fox'+'ma'+'il.'+'co'+'m'; return false;">yinfl<span style="display: none;">.nosp@m.</span>ying<span style="display: none;">.nosp@m.</span>@foxm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a>) </dd></dl>
<dl class="section note"><dt>Note</dt><dd>2019-05-21 Created </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a995f3eb91a4f22c9edcc5f91f4708b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a995f3eb91a4f22c9edcc5f91f4708b1e">&#9670;&nbsp;</a></span>KF_HINIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KF_HINIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">kf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_ny&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                            \</div>
<div class="line">    kf-&gt;ny = _ny;                                                            \</div>
<div class="line">    if(<a class="code" href="ins_8h.html#a14ee0f41b2e64cad6f4c28cbb3fcb39b">cfg</a>.<a class="code" href="structcfg__t.html#abbb4e7fe2d5877119e6b92383bf5a3e8">max_ny</a> &lt; kf-&gt;ny)                                                  \</div>
<div class="line">        LOG_FATAL(<span class="stringliteral">&quot;%f: cfg.max_ny should set large than %i&quot;</span>,                 \</div>
<div class="line">                __FUNCTION__, kf-&gt;ny);                                       \</div>
<div class="line">    for(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; kf-&gt;ny*kf-&gt;nx; ++i)                          \</div>
<div class="line">        kf-&gt;H[i] = 0.0;                                                      \</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7df2afc7bd935540d870d6af943bbdb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7df2afc7bd935540d870d6af943bbdb3">&#9670;&nbsp;</a></span>inskf_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>close ins kalman filter, free all variable memory </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>

</div>
</div>
<a id="ae907e09ccf9698fda9b31dcdee93c493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae907e09ccf9698fda9b31dcdee93c493">&#9670;&nbsp;</a></span>inskf_constraint_yaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_constraint_yaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>wib_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structimup__t.html">imup_t</a> *&#160;</td>
          <td class="paramname"><em>imup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>constraint yaw by velocity(Use velocity to caculate yaw, and then update) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wib_b</td><td>currnet imu output angular rate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imup</td><td>imu property struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>make sure all necessary imu proerties are well setted. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>related imu property: imup-&gt;phi_install.z imu install yaw angel error[rad] imup-&gt;phi_install_std.z imu install yaw angel error variance[rad^2] imup-&gt;lever_arm_car.x car reference point(forward direction)[m] imup-&gt;lever_arm_car_std.x car reference point variance[m^2] imup-&gt;gyro_noise.z gryo downward axis output error[rad/s] </dd></dl>

</div>
</div>
<a id="ae0e63267cdab8b1c5675036bba867604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0e63267cdab8b1c5675036bba867604">&#9670;&nbsp;</a></span>inskf_feedback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_feedback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>SOL_TYPE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ins kalman filter feedback (move inskf-&gt;x to inskf.sol) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SOL_TYPE</td><td>solution type, see enum SOL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>

</div>
</div>
<a id="ad9578f9341aa79539524b9adfb5342d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9578f9341aa79539524b9adfb5342d5">&#9670;&nbsp;</a></span>inskf_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structimup__t.html">imup_t</a> *&#160;</td>
          <td class="paramname"><em>imup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initial ins kalman filter </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>kalman filter of ins </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imup</td><td>imu property sturct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>

</div>
</div>
<a id="a77c6ea8747b980a69fb5670acbc60083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c6ea8747b980a69fb5670acbc60083">&#9670;&nbsp;</a></span>inskf_MC_car()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_MC_car </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>wib_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>lever_arm_car</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>std_vy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>std_vz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ins kalman filter of car's motion constraint </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wib_b</td><td>imu output angular rate[rad/s] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lever_arm_car</td><td>car ref point under b-frame[m] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">std_vy</td><td>zero velocity around y-axis under c-frame[m/s] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">std_vz</td><td>zero veloctiy around z-axis under c-frame[m/s] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>

</div>
</div>
<a id="ae514fa18a581abc58f31e88c0fe09a2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae514fa18a581abc58f31e88c0fe09a2b">&#9670;&nbsp;</a></span>inskf_norm_innov()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_norm_innov </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname"><em>dz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>ndz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>inskf_norm_innov </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dz</td><td>innovation(measment - model, inskf-&gt;ny x 1) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">R</td><td>measment noise matrix(inskf-&gt;ny x inskf-&gt;ny) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ndz</td><td>ouput normialized innovations(inskf-&gt;ny x 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0: OK </dd></dl>

</div>
</div>
<a id="a741d4038c338c1c91b191a71d1c14433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a741d4038c338c1c91b191a71d1c14433">&#9670;&nbsp;</a></span>inskf_uditg_dS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_uditg_dS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>lever_arm_car</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>wib_b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ins kalman filter of update integral varables of odomemter </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dS</td><td>distance increment[s] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lever_arm_car</td><td>ref point uner b-frame </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wib_b</td><td>imu output angular rate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>

</div>
</div>
<a id="a7f930427ea610bdff5fa38195410722f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f930427ea610bdff5fa38195410722f">&#9670;&nbsp;</a></span>inskf_udmeas_Cbe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_udmeas_Cbe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structm3__t.html">m3_t</a> *&#160;</td>
          <td class="paramname"><em>Cbe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structm3__t.html">m3_t</a> *&#160;</td>
          <td class="paramname"><em>QEbe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ins kalman filter update attitude measment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Cbe</td><td>DCM from b-frame to e-frame </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">QEbe</td><td>uncertainty of Ebe. [rad^2] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>

</div>
</div>
<a id="a0127d5770f1ac4f3158c0406718e0a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0127d5770f1ac4f3158c0406718e0a92">&#9670;&nbsp;</a></span>inskf_udmeas_itgdS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_udmeas_itgdS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>itgdS_std</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ins kalman filter, use odometer's integral variables as measument </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">itgdS_std</td><td>odometer's velocity intetral's stanadard error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>
<p>QQ = H'*P*H + R</p>

</div>
</div>
<a id="a3742f814620a998f7194ef529b54f040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3742f814620a998f7194ef529b54f040">&#9670;&nbsp;</a></span>inskf_udmeas_vod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_udmeas_vod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>vod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>vod_std</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ins kalman filter, use odometer output velocity as measurement </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vod</td><td>odometer output velocity[m/s] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vod_std</td><td>odometer output velocity uncertainty[m/s] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>
<dl class="section note"><dt>Note</dt><dd>vod_std.x is vod uncertainty, vod_std.y and vod_std.z is the Zero velocity noise </dd></dl>

</div>
</div>
<a id="aa4d0cec9486ebb80789a68da72b091f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4d0cec9486ebb80789a68da72b091f4">&#9670;&nbsp;</a></span>inskf_udmeas_yaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_udmeas_yaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>yaw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Qyaw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>kalman filter yaw angle measument update </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman fitler struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yaw</td><td>yaw angle measuremnt(Enb.k) [rad] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Qyaw</td><td>uncertainty of yaw [rad^2] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK, 1: failed) </dd></dl>

</div>
</div>
<a id="a3cbd764fb55c212347b7e662c0ce00e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cbd764fb55c212347b7e662c0ce00e3">&#9670;&nbsp;</a></span>inskf_udmeasr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_udmeasr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>reg_e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structm3__t.html">m3_t</a> *&#160;</td>
          <td class="paramname"><em>Qreg_e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>lever_arm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>kalman filter position measment update </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg_e</td><td>(gnss) position under e-frame[m] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Qreg_e</td><td>(gnss) position variance matrix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lever_arm</td><td>lever arm of (gnss) postion(under b-frame) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>

</div>
</div>
<a id="a426b26eadcabca1ae0ac60c627c103fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a426b26eadcabca1ae0ac60c627c103fe">&#9670;&nbsp;</a></span>inskf_udmeasv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_udmeasv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>veg_e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structm3__t.html">m3_t</a> *&#160;</td>
          <td class="paramname"><em>Qveg_e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>lever_arm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structv3__t.html">v3_t</a> *&#160;</td>
          <td class="paramname"><em>wib_b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>kalman filter velocity update </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">veg_e</td><td>(gnss) velocity under e-frame[m/s] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Qveg_e</td><td>(gnss) velocity variance matrix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lever_arm</td><td>lever arm of (gnss) position(unber b-frame) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wib_b</td><td>angular rate of imu </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>

</div>
</div>
<a id="ad2c4b864473a34a407caf617b5f0202d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c4b864473a34a407caf617b5f0202d">&#9670;&nbsp;</a></span>inskf_udstate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_udstate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structimud__t.html">imud_t</a> *&#160;</td>
          <td class="paramname"><em>imud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structimup__t.html">imup_t</a> *&#160;</td>
          <td class="paramname"><em>imup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>kalman filter update state x = Fx, P = F * P * F' + Q, and full state transfer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inskf</td><td>kalman filter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imud</td><td>imu data struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imup</td><td>imu property struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0:OK) </dd></dl>

</div>
</div>
<a id="a3f2cc27f15de055c2990b26428bf51d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2cc27f15de055c2990b26428bf51d6">&#9670;&nbsp;</a></span>inskf_ZAU()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_ZAU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>yaw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Qyaw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ins kalman filter Zero Angular Update </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yaw</td><td>yaw measment at start of static moment[rad] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Qyaw</td><td>uncertainty of yaw[rad^2] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK, 1: failed, current momoent may be not static) </dd></dl>
<dl class="section note"><dt>Note</dt><dd>this function nearly the same as <a class="el" href="inskf_8c.html#aa4d0cec9486ebb80789a68da72b091f4" title="kalman filter yaw angle measument update">inskf_udmeas_yaw()</a>, but do not have same function. </dd></dl>

</div>
</div>
<a id="a12ca75cadbec752d9212d84a0289ff08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12ca75cadbec752d9212d84a0289ff08">&#9670;&nbsp;</a></span>inskf_ZRAU()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_ZRAU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structquat__t.html">quat_t</a> *&#160;</td>
          <td class="paramname"><em>last_qbe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structm3__t.html">m3_t</a> *&#160;</td>
          <td class="paramname"><em>Qweb_b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zero angular rate update for ins kalman filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">last_qbe</td><td>last quaternion </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>time interval[s] </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Qweb_b</td><td>uncertainty of three axis angle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status(0: OK) </dd></dl>

</div>
</div>
<a id="a1cc8c80afde8e9802348bdd1f8940b2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cc8c80afde8e9802348bdd1f8940b2a">&#9670;&nbsp;</a></span>inskf_ZST_auto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inskf_ZST_auto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsolins__t.html">solins_t</a> *&#160;</td>
          <td class="paramname"><em>last_sol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mean_dv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>std_dv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zero Speed Test automatically. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">last_sol</td><td>last solution(to check by position difference) </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">mean_dv</td><td>mean of a list imu dv output </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">std_dv</td><td>stanadard error of a list of imu dv output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true: static, false: kinematic </dd></dl>

</div>
</div>
<a id="a533d2fe56ebb9fd744c3e2c4d1ae9075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a533d2fe56ebb9fd744c3e2c4d1ae9075">&#9670;&nbsp;</a></span>inskf_ZST_imu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inskf_ZST_imu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mean_dv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>std_dv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ins kalman filter to Zero Speed Test by imu data </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mean_dv</td><td>mean of a list imu dv output </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">std_dv</td><td>stanadard error of a list of imu dv output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true: static, false: kinematic </dd></dl>

</div>
</div>
<a id="a8e4aec8831d33b817af20ea0e2a8900d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4aec8831d33b817af20ea0e2a8900d">&#9670;&nbsp;</a></span>inskf_ZST_pos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_ZST_pos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsolins__t.html">solins_t</a> *&#160;</td>
          <td class="paramname"><em>last_sol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zero speed test by postion difference. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">last_sol</td><td>last solution </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0: kinematic 1: static -1: can not be determniated </dd></dl>

</div>
</div>
<a id="a9e3fee5b2141940de453a0b111dc185b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e3fee5b2141940de453a0b111dc185b">&#9670;&nbsp;</a></span>inskf_ZUPT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inskf_ZUPT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkf__t.html">kf_t</a> *&#160;</td>
          <td class="paramname"><em>inskf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structm3__t.html">m3_t</a> *&#160;</td>
          <td class="paramname"><em>Qveb_e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zero velocity update of ins kalman filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">inskf</td><td>ins kalman filter struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Qveb_e</td><td>uncerainty of zero speed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status(0: OK) </dd></dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="astructcfg__t_html_abbb4e7fe2d5877119e6b92383bf5a3e8"><div class="ttname"><a href="structcfg__t.html#abbb4e7fe2d5877119e6b92383bf5a3e8">cfg_t::max_ny</a></div><div class="ttdeci">unsigned char max_ny</div><div class="ttdoc">max observations when kalman filter measurement update</div><div class="ttdef"><b>Definition:</b> ins.h:309</div></div>
<div class="ttc" id="ains_8h_html_a14ee0f41b2e64cad6f4c28cbb3fcb39b"><div class="ttname"><a href="ins_8h.html#a14ee0f41b2e64cad6f4c28cbb3fcb39b">cfg</a></div><div class="ttdeci">cfg_t cfg</div><div class="ttdoc">global configuration</div><div class="ttdef"><b>Definition:</b> inscmn.c:52</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
